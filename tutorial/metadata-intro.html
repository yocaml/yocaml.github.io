<!doctype html>
<html lang="en-US">
  <head>
    <title>YOCaml - Introduction to Metadata</title>
    <link rel="canonical" href="https://yocaml.github.io/tutorial/metadata-intro.html" />
    <link rel="stylesheet" href="/assets/css/yocaml.css" />
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="generator" content="YOCaml">
    <meta name="description" content="Understanding how to create and validate data">
    <meta name="creator" content="grm">
    <meta name="creator" content="xvw">
    <meta property="og:site_name" content="YOCaml">
    <meta property="og:url" content="https://yocaml.github.io/tutorial/metadata-intro.html">
    <meta property="og:title" content="Introduction to Metadata">
    <meta property="og:description" content="Understanding how to create and validate data">
    <meta property="og:type" content="article">
    <meta property="article:published_time" content="2025-11-21T00:00:00Z">
    <meta property="article:modified_time" content="2025-11-21T00:00:00Z">
    <meta property="article:section" content="Tutorial">
    </head>
  <body>
    <header>
      <div>
        <h1>YOCaml</h1>
      </div>
    </header>
    <main>
      <div>
        <div class="article-container">
  <div class="article-with-side-bar">
    
    <aside class="sidebar yo--navigation">
      
      <nav>
        <h4>Preamble</h4>
        
        
        <a href="/tutorial/index.html"
           title="A conceptual introduction to YOCaml"
           class="">
          Introduction
        </a>
        
        
        <a href="/tutorial/why.html"
           title="The promotional part of YOCaml"
           class="">
          Why use YOCaml
        </a>
        
        
        <a href="/tutorial/setup.html"
           title="Mise en place d&apos;un environnement de développement"
           class="">
          Installation and setup
        </a>
        
        
        <a href="/tutorial/key-concepts.html"
           title="Explanation of key points and concepts for building with YOCaml"
           class="">
          Key concepts
        </a>
        </nav>
      
      <nav>
        <h4>Your first blog</h4>
        
        
        <a href="/tutorial/simple-blog-goal.html"
           title="The goal and the introduction of the tutorial"
           class="">
          Goals &amp; Introduction
        </a>
        
        
        <a href="/tutorial/simple-blog-images.html"
           title="A First Action: Moving Images to the Target"
           class="">
          Moving images
        </a>
        
        
        <a href="/tutorial/simple-blog-css.html"
           title="A New Action: Generating CSS file"
           class="">
          Generating CSS
        </a>
        
        
        <a href="/tutorial/simple-blog-pages.html"
           title="Creating the first pages: written in Markdown, converted to HTML, and injected into templates"
           class="">
          Our first pages
        </a>
        
        
        <a href="/tutorial/simple-blog-server.html"
           title="Setting up a small development server to facilitate page writing"
           class="">
          A development server
        </a>
        
        
        <a href="/tutorial/simple-blog-articles.html"
           title="Creation of pages dedicated to articles"
           class="">
          Article creation
        </a>
        
        
        <a href="/tutorial/simple-blog-index.html"
           title="Creation of an index"
           class="">
          Article indexation
        </a>
        
        
        <a href="/tutorial/simple-blog-feed.html"
           title="Creating an ATOM syndication feed"
           class="">
          Creating a syndication feed
        </a>
        
        
        <a href="/tutorial/simple-blog-final.html"
           title="Conclusion on the entire tutorial"
           class="">
          Final words
        </a>
        </nav>
      
      <nav>
        <h4>Your own Data Model</h4>
        
        
        <span class="">
          Introduction to Metadata
        </span>
        
        
        <a href="/tutorial/metadata-projection.html"
           title="Understanding how to create data"
           class="">
          From value to data
        </a>
        
        
        <a href="/tutorial/metadata-validation.html"
           title="Understanding how to validate data"
           class="">
          From data to values
        </a>
        
        
        <a href="/tutorial/metadata-validation-2.html"
           title="Building more accurate validators"
           class="">
          Fine-grained validators
        </a>
        
        
        <a href="/tutorial/metadata-wrapping-up.html"
           title="TBD"
           class="to-be-done">
          Readable and injectable
        </a>
        </nav>
      
      <nav>
        <h4>Specifics</h4>
        
        
        <a href="/tutorial/path.html"
           title="An explanation of how paths work"
           class="">
          Path manipulation
        </a>
        
        
        <a href="/tutorial/path-resolver.html"
           title="A module for solving paths"
           class="">
          Path resolver
        </a>
        
        
        <a href="/tutorial/task.html"
           title="TBD"
           class="to-be-done">
          Building and composing Task
        </a>
        </nav>
      
    </aside>
    
    <section>
      <section class="tutorial-header">
  <h1 class="main-title">Introduction to Metadata</h1>
  <section class="tutorial-info">
    <strong>Published on the</strong>
    <time datetime="2025-11-21 00:00:00">
      2025-11-21
    </time>
    
  </section>
  
  <section class="authors">
    <nav>
      <strong>Written by</strong>
      
      <a href="/#"
         title="home"
         class="author">
        <img class="avatar" alt="" src="https://www.gravatar.com/avatar/3468ebfe22ff0e789d231af21f2dc81f?"/>
        <span>grm</span>
      </a>
      
      <a href="https://xvw.lol"
         title="xvw.lol/"
         class="author">
        <img class="avatar" alt="" src="https://www.gravatar.com/avatar/77147495ce1de81bd3b4d4044b8367fd?"/>
        <span>xvw</span>
      </a>
      
    </nav>
  </section>
  
</section>




<section class="prose">
<p>In the course on creating a blog, we used prebuilt <em>Archetypes</em> such as <code>Page</code>, <code>Article</code>, and <code>Articles</code>. In this guide, we will understand how to use the data description language embedded in YOCaml to create data that can be validated, from a variable data format, and that we can inject (or serialize) into template engines such as <em>Mustach</em> or <em>Jingoo</em>.</p>

</section>

<article class="prose">
<p>Indeed, in order <strong>to be as generic as possible</strong>, YOCaml provides a
library that allows you to <strong>describe</strong> arbitrary data
(which can be transformed into the description language of a
template engine, <em>arbitrarily</em>, or serialized into the form
of our choice) and to have it <strong>validated</strong>, from any arbitrary format.</p>
<blockquote>
<p>Creating a custom data model is crucial for building an original
site and for not locking yourself into the default models provided
by YOCaml. It is for this freedom that YOcaml offers a flexible API
that strives to validate any form of data. Using the default
archetypes, as we saw in the tutorial on the <em>simple</em> blog, is a
very good tool to start and get familiar with YOCaml.  However, the
ultimate goal is to give you the freedom to structure your documents
as you wish, in order to build the most personal websites possible!</p>
</blockquote>
<h2 id="validation-and-projection"><a class="anchor" aria-hidden="true" href="#validation-and-projection"></a>Validation and projection</h2>
<p>When building a site generator, <em>whether static or not</em>, we generally
want to be able to attach <em>metadata</em> to documents in order to control
how we want to render them (in HTML, for example). For that, we need
to be able to do three essential things:</p>
<ul>
<li>
<p><strong>Extract metadata from the document</strong>: that is, <em>describe</em> how the
data is included in a document. In the previous examples, we used
the <a href="https://jekyllrb.com/docs/front-matter/">Front Matter
approach</a>, which simply
consists of using <code>---</code> to separate the metadata from the document.</p>
</li>
<li>
<p><strong>Validate the extracted metadata</strong>: that is, ensure that the
document actually contains the required data (and that it has the
correct structure). In YOCaml, we use a specific format,
<a href="https://yocaml.github.io/doc/yocaml/yocaml/Yocaml/Data/index.html#type-t"><code>Yocaml.Data.t</code></a>.
Metadata is first extracted according to an extraction strategy,
then from a source format (for example <code>Yaml</code>, <code>ToML</code>, or <code>Sexp</code>),
it is converted into the <code>Yocaml.Data.t</code> format. After that, we
apply validations that allow us to convert our <code>Yocaml.Data.t</code> into
a type of our choice.</p>
</li>
<li>
<p><strong>Inject the validated data</strong>: once our data is validated, we want
to be able to <em>concretely</em> generate our document, meaning transform
our type into <code>Yocaml.Data.t</code> (and let YOCaml convert it into the
language understood by the template engine).</p>
</li>
</ul>
<p>You will have understood that, in order to be as generic as possible
and able to adapt to as many situations as possible, YOCaml uses a
very simple intermediate representation format that acts as a relay.</p>
<p>Here is a schematic example of how the hypothetical article generation
process works, from reading to writing:</p>
<p><img src="/assets/images/data-flow.svg" alt="From metadata to artifact" ></p>
<p>The generic handling of metadata is organized around several
interfaces (signatures):</p>
<ul>
<li>
<p><a href="https://yocaml.github.io/doc/yocaml/yocaml/Yocaml/Required/module-type-DATA_PROVIDER/index.html"><code>DATA_PROVIDER</code></a>
which allows you to describe a <strong>description language</strong> (such as
Yaml or ToML). It explains how to go from the data type (Yaml or
ToML) to
<a href="https://yocaml.github.io/doc/yocaml/yocaml/Yocaml/Data/index.html#type-t"><code>Yocaml.Data.t</code></a>.</p>
</li>
<li>
<p><a href="https://yocaml.github.io/doc/yocaml/yocaml/Yocaml/Required/module-type-DATA_READABLE/index.html"><code>DATA_READABLE</code></a>
describes how to convert metadata expressed in a language defined by
a <code>DATA_PROVIDER</code> into structured data.</p>
</li>
<li>
<p><a href="https://yocaml.github.io/doc/yocaml/yocaml/Yocaml/Required/module-type-DATA_INJECTABLE/index.html"><code>DATA_INJECTABLE</code></a>
describes how to <em>normalize</em> data so that it can be injected into a
template.</p>
</li>
</ul>
<p>In practice, when we <strong>want to describe metadata</strong>, we generally
define a module of the following form:</p>
<pre><code><span class='ocaml-keyword-other'>module</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other'>type</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>M</span><span class='ocaml-source'> </span><span class='ocaml-keyword-operator'>=</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other'>sig</span><span class='ocaml-source'>
</span><span class='ocaml-source'>  </span><span class='ocaml-keyword'>type</span><span class='ocaml-source'> </span><span class='ocaml-entity-name-function-binding'>t</span><span class='ocaml-source'> (* Metadata's </span><span class='ocaml-keyword-other-ocaml'>type</span><span class='ocaml-source'> *)
</span><span class='ocaml-source'>
</span><span class='ocaml-source'>  </span><span class='ocaml-keyword-other-ocaml'>include</span><span class='ocaml-source'> Yocaml.Required.DATA_READABLE </span><span class='ocaml-keyword-other-ocaml'>with</span><span class='ocaml-source'> </span><span class='ocaml-keyword'>type</span><span class='ocaml-source'> </span><span class='ocaml-entity-name-function-binding'>t</span><span class='ocaml-source'> := t
</span><span class='ocaml-source'>  </span><span class='ocaml-keyword-other-ocaml'>include</span><span class='ocaml-source'> Yocaml.Required.DATA_INJECTABLE </span><span class='ocaml-keyword-other-ocaml'>with</span><span class='ocaml-source'> </span><span class='ocaml-keyword'>type</span><span class='ocaml-source'> </span><span class='ocaml-entity-name-function-binding'>t</span><span class='ocaml-source'> := t
</span><span class='ocaml-keyword-other'>end</span><span class='ocaml-source'>
</span></code></pre>
<p>By including these two modules, the types described by the module can
be read as metadata from files and injected into templates to produce
artifacts. However, sometimes we may want to <em>distinguish</em> between the
types we want to consume and the ones we want to inject, <strong>which is
why there are two different interfaces</strong>.</p>
<p>Now that we understand the main ideas, we will see how to <strong>describe
data</strong> (normalize it) and how to <strong>validate data</strong>.</p>
<h2 id="naming-conventions"><a class="anchor" aria-hidden="true" href="#naming-conventions"></a>Naming conventions</h2>
<p>Usually, we apply the following naming conventions:</p>
<ul>
<li>
<p><code>to_data</code>: <code>t Data.converter</code>, which allows transforming arbitrary
data into YOCaml’s data model.</p>
</li>
<li>
<p><code>from_data</code>: <code>t Data.validable</code>, which allows validating data from
YOCaml’s data model into an arbitrary type.</p>
</li>
<li>
<p><code>normalize</code>: <code>t -&gt; (string * Data.t) list</code>, which allows normalizing
an arbitrary type into a template.</p>
</li>
<li>
<p><code>validate</code>: <code>t Data.validable</code>, which allows validating data from
YOCaml’s data model into an arbitrary type (to be read from a file).</p>
</li>
</ul>
<p>In the
<a href="https://yocaml.github.io/doc/yocaml/yocaml/Yocaml/Metadata/index.html#"><code>Yocaml.Metadata</code></a>
module there are functors to move from one representation to another.
However, generally, the <code>from_data</code> and <code>to_data</code> functions are mainly
used to build the data model and validate heterogeneous data, while
<code>normalize</code> and <code>validate</code> are used to work with file reading and
writing.</p>
<p>In the next section, we will see how to describe/project data while
respecting the YOCaml format.</p>

</article>



      
      <div class="prev-next">
        
        <a href="/tutorial/simple-blog-final.html"
           title="Conclusion on the entire tutorial"
           class="previous">
          <h4>Previous</h4>
          <span class="section-title">Your first blog</span>
          <span>Final words</span>
        </a>
        
        
        <a href="/tutorial/metadata-projection.html"
           title="Understanding how to create data"
           class="next">
          <h4>Next</h4>
          <span class="section-title">Your own Data Model</span>
          <span>From value to data</span>
        </a>
        
      </div>
      
    </section>
    <aside class="toc yo--navigation">
      
      <nav id="active-toc">
        <h4>Table of content</h4>
        <ul><li><a href="#validation-and-projection" data-toc-target="validation-and-projection">Validation and projection</a></li><li><a href="#naming-conventions" data-toc-target="naming-conventions">Naming conventions</a></li></ul>
      </nav>
      
    </aside>
  </div>
</div>


      </div>
    </main>
    <footer>
      <div>
        <div class="yo--grid-col-autofill yo--navigation modules">
          <nav>
            <h4>Navigation</h4>
            <a href="/">Home</a>
            <a href="/tutorial">Tutorial</a>
            <a href="https://github.com/xhtmlboi/yocaml">
              YOCaml repository
            </a>
            <a href="https://github.com/yocaml/yocaml-www">
              Site repository
            </a>
            <a href="https://yocaml.github.io/doc">API Doc</a>
          </nav>
          <nav>
            <h4>Bug Trackers</h4>
            <a href="https://github.com/xhtmlboi/yocaml/issues">
              YOCaml
            </a>
            <a href="https://github.com/yocaml/yocaml-www/issues">
              Site
            </a>
            
            <a href="https://github.com/yocaml/yocaml-www/blob/main/content/tutorial/metadata-intro.md">
              Page source
            </a>
            
          </nav>
          
          <nav class="inline">
            <h4>Latest releases</h4>
            
            <a href="https://github.com/xhtmlboi/yocaml/releases/tag/v3.0.0">
              v3.0.0
            </a>
            
            <a href="https://github.com/xhtmlboi/yocaml/releases/tag/v2.8.0">
              v2.8.0
            </a>
            
            <a href="https://github.com/xhtmlboi/yocaml/releases/tag/v2.7.0">
              v2.7.0
            </a>
            
            <a href="https://github.com/xhtmlboi/yocaml/releases/tag/v2.6.0">
              v2.6.0
            </a>
            
            <a href="https://github.com/xhtmlboi/yocaml/releases/tag/v2.5.0">
              v2.5.0
            </a>
            
            <a href="https://github.com/xhtmlboi/yocaml/releases/tag/v2.4.1">
              v2.4.1
            </a>
            
            <a href="https://github.com/xhtmlboi/yocaml/releases/tag/v2.4.0">
              v2.4.0
            </a>
            
            <a href="https://github.com/xhtmlboi/yocaml/releases/tag/v2.3.0">
              v2.3.0
            </a>
            
            <a href="https://github.com/xhtmlboi/yocaml/releases/tag/v2.2.0">
              v2.3.0
            </a>
            
            <a href="https://github.com/xhtmlboi/yocaml/releases/tag/v2.1.0">
              v2.1.0
            </a>
            
            <a href="https://github.com/xhtmlboi/yocaml/releases/tag/v2.0.1">
              v2.0.1
            </a>
            
            <a href="https://github.com/xhtmlboi/yocaml/releases/tag/v2.0.0">
              v2.0.0
            </a>
            
            <a href="https://github.com/xhtmlboi/yocaml/releases/tag/v1.0.0">
              v1.0.0
            </a>
            
          </nav>
          
        </div>
      </div>
      <div class="yo--grid-col-autofill bottom-line">
        <div>
          <div>
            <a href="https://ocaml.org" title="OCaml website">
              <svg role="img" class="yo--icon">
                <use href="/assets/images/icons.svg#ocaml" />
              </svg>
            </a>  
          </div>
          <div>
            Proudly generated by
            <a href="https://github.com/xhtmlboi/yocaml">
              YOCaml
            </a>
          </div>
        </div>
        <div>
          <div>
            Generator under
            <a href="https://gnu.org/licenses/gpl-3.0.html">
              GPL 3.0
            </a>
            <br/>
            Content under
            <a href="https://creativecommons.org/licenses/by-sa/4.0/">
              CC BY-SA
            </a>
          </div>
          <div>
            <a href="https://creativecommons.org/licenses/by-sa/4.0/">
              <svg role="img" class="yo--icon">
                <use href="/assets/images/icons.svg#cc" />
              </svg>
            </a>
          </div>
      </div>
    </footer>
    <script src="/assets/js/frontend.bc.js"></script>
  </body>
</html>
